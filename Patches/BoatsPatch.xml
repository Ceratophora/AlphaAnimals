<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="ModCheck.isModLoaded">
				<modName>Boats</modName>
				<yourMod>Alpha Animals</yourMod>
			</li>





			<!-- Colossal Nautiloid -->

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<PawnKindDef>
						<defName>AA_ColossalNautiloid</defName>
						<label>Colossal Nautiloid</label>
						<defaultFactionType>PlayerColony</defaultFactionType>
						<aiAvoidCover>false</aiAvoidCover>
						<destroyGearOnDrop>true</destroyGearOnDrop>
						<race>AA_ColossalNautiloidRace</race>
						<backstoryCategories>
							<li>Medieval</li>
						</backstoryCategories>
						<combatPower>20</combatPower>
						<lifeStages>
							<li>
								<bodyGraphicData>
									<texPath>Things/Pawn/Animal/AA_ColossalNautiloid/AA_ColossalNautiloid</texPath>
									<graphicClass>Graphic_Multi</graphicClass>
									<drawSize>(11,11)</drawSize>
									<shaderType>CutoutComplex</shaderType>
									<shadowData>
										<volume>(0.4,0.1,0.4)</volume>
									</shadowData>
								</bodyGraphicData>
							</li>
						</lifeStages>
					</PawnKindDef>
				</value>
			</li>

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<ThingDef ParentName="BaseShip">
						<defName>AA_ColossalNautiloidRace</defName>
						<label>Colossal Nautiloid</label>
						<description>The Colossal Nautiloid is an extremely large cephalopod with a spiral shell. In the wild, Colossal Nautiloids are fearsome predators that live in the deepest ocean trenches, hunting whales and various deep-sea fish. Nautiloid eggs find their way to the surface, where they are coveted as luxury items. If one of these eggs is hatched, a Colossal Nautiloid can be carefully tamed and used as a foundation to build a powerful bio-ship using a great amount of wood and cloth, a process that is quite painless to the Nautiloid if it is started when it is young.\n\nColossal Nautiloids can be trained to act as powerful sailing ships, armed with a nasty acidic ink spit.</description>

						<statBases>
							<MoveSpeed>4</MoveSpeed>
							<Mass>4500</Mass>
							<ArmorRating_Blunt>0.6</ArmorRating_Blunt>
							<ArmorRating_Sharp>0.9</ArmorRating_Sharp>
							<MarketValue>6000</MarketValue>
							<MeatAmount>0</MeatAmount>
							<LeatherAmount>0</LeatherAmount>
						</statBases>

						<size>(3,8)</size>

						<tools>
							<li>
								<label>hull</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>20</power>
								<cooldownTime>10</cooldownTime>
								<linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
								<ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
							</li>
						</tools>



						<race>
							<thinkTreeMain>shipThinkTree_Simple</thinkTreeMain>
							<thinkTreeConstant>shipThinkTree_SimpleConstant</thinkTreeConstant>
							<intelligence>ToolUser</intelligence>
							<fleshType>WoodenShip</fleshType>
							<needsRest>false</needsRest>
							<hasGenders>true</hasGenders>
							<foodType>None</foodType>
							<useMeatFrom>Cat</useMeatFrom>
							<body>AA_NautiloidBody</body>
							<baseBodySize>90.0</baseBodySize>
							<baseHealthScale>1.0</baseHealthScale>
							<lifeStageAges>
								<li>
									<def>MechanoidFullyFormed</def>
									<minAge>0</minAge>
									<soundWounded>BulletImpact_Wood</soundWounded>
									<soundDeath>Explosion_Bomb</soundDeath>
								</li>
							</lifeStageAges>

							<soundMeleeHitPawn>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeHitPawn>
							<soundMeleeHitBuilding>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeHitBuilding>
							<soundMeleeMiss>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeMiss>
						</race>

						<comps>	
							<li Class = "RimShips.CompProperties_Ships">
								<downable>false</downable>
								<movesWhenDowned>false</movesWhenDowned>
								<diagonalRotation>false</diagonalRotation>

								<moveable>DriverNeeded</moveable>
								<riverTraversability>LargeRiver</riverTraversability>
								<shipPowerType>Sails</shipPowerType>
								<nameable>true</nameable>
								<buildDef>AA_ColossalNautiloidBlueprint</buildDef>
								<ticksBetweenRepair>400</ticksBetweenRepair>

								<healthLabel_Healthy>Operational</healthLabel_Healthy>
								<healthLabel_Injured>Needs Healing</healthLabel_Injured>
								<healthLabel_Immobile>Inoperable</healthLabel_Immobile>
								<healthLabel_Dead>Sunken</healthLabel_Dead>
								<healthLabel_Beached>Beached</healthLabel_Beached>

								<roles>
									<li>
										<label>Squidmaster</label>
										<handlingType>Movement</handlingType>
										<slots>1</slots>
										<slotsToOperate>1</slotsToOperate>
									</li>
									<li>
										<label>Handler</label>
										<handlingType>Movement</handlingType>
										<slots>2</slots>
										<slotsToOperate>2</slotsToOperate>
									</li>
									<li>
										<label>Ink Spitter</label>
										<handlingType>Cannons</handlingType>
										<slots>1</slots>
										<slotsToOperate>1</slotsToOperate>
									</li>
									<li>
										<label>Passenger</label>
										<handlingType>None</handlingType>
										<slots>6</slots>
									</li>
								</roles>
							</li>
							<li Class="RimShips.CompProperties_Cannons">
								<cannons>
									<li>
										<label>Port Ink Spitter</label>
										<weaponType>Broadside</weaponType>
										<weaponLocation>Port</weaponLocation>
										<projectile>AA_ToxicInk</projectile>
										<cannonSound>AA_PoisonBolt</cannonSound>
										<numberCannons>1</numberCannons>
										<baseTicksBetweenShots>10</baseTicksBetweenShots>
										<cooldownTimer>5</cooldownTimer>
										<spacing>1.9</spacing>
										<offset>.4</offset>
										<projectileOffset>.5</projectileOffset>
										<hitFlags>All</hitFlags>
										<spreadRadius>2</spreadRadius>
										<minRange>3</minRange>
										<maxRange>45</maxRange>
									</li>
									<li>
										<label>Starboard Ink Spitter</label>
										<weaponType>Broadside</weaponType>
										<weaponLocation>Starboard</weaponLocation>
										<projectile>AA_ToxicInk</projectile>
										<cannonSound>AA_PoisonBolt</cannonSound>
										<numberCannons>1</numberCannons>
										<baseTicksBetweenShots>10</baseTicksBetweenShots>
										<cooldownTimer>5</cooldownTimer>
										<spacing>1.9</spacing>
										<offset>.4</offset>
										<projectileOffset>.5</projectileOffset>
										<hitFlags>All</hitFlags>
										<spreadRadius>2</spreadRadius>
										<minRange>3</minRange>
										<maxRange>45</maxRange>
									</li>
								</cannons>
							</li>

						</comps>
					</ThingDef>
				</value>
			</li>

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<ThingDef ParentName="ShipBase">
						<defName>AA_ColossalNautiloidBlueprint</defName>
						<label>Colossal Nautiloid</label>
						<description>The Colossal Nautiloid is an extremely large cephalopod with a spiral shell. In the wild, Colossal Nautiloids are fearsome predators that live in the deepest ocean trenches, hunting whales and various deep-sea fish. Nautiloid eggs find their way to the surface, where they are coveted as luxury items. If one of these eggs is hatched, a Colossal Nautiloid can be carefully tamed and used as a foundation to build a powerful bio-ship using a great amount of wood and cloth, a process that is quite painless to the Nautiloid if it is started when it is young.\n\nColossal Nautiloids can be trained to act as powerful sailing ships, armed with a nasty acidic ink spit.</description>
						<graphicData>
							<texPath>Things/Pawn/Animal/AA_ColossalNautiloid/AA_ColossalNautiloid_north</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<drawSize>(11,11)</drawSize>
						</graphicData>

						<statBases>
							<MaxHitPoints>400</MaxHitPoints>
							<WorkToBuild>30000</WorkToBuild>
							<Flammability>75</Flammability>
						</statBases>
						<size>(3,8)</size>

						<researchPrerequisites>
							<li>AA_Bioships</li>
						</researchPrerequisites>
						<costList>
							<WoodLog>25</WoodLog>
							<Steel>25</Steel>
						</costList>

						<soundImpactDefault>BulletImpact_Wood</soundImpactDefault>

						<modExtensions>
							<li Class="RimShips.Build.SpawnThingBuilt">
								<thingToSpawn>AA_ColossalNautiloid</thingToSpawn>
								<soundFinished>ShipBigConstruction</soundFinished>
							</li>
						</modExtensions>

					</ThingDef>
				</value>
			</li>
			
			<!-- Mirachian Man O'War -->

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<PawnKindDef>
						<defName>AA_MirachianManowar</defName>
						<label>Mirachian Man O'War</label>
						<defaultFactionType>PlayerColony</defaultFactionType>
						<aiAvoidCover>false</aiAvoidCover>
						<destroyGearOnDrop>true</destroyGearOnDrop>
						<race>AA_MirachianManowarRace</race>
						<backstoryCategories>
							<li>Medieval</li>
						</backstoryCategories>
						<combatPower>20</combatPower>
						<lifeStages>
							<li>
								<bodyGraphicData>
									<texPath>Things/Pawn/Animal/AA_MirachianManowar/AA_MirachianManowar</texPath>
									<graphicClass>Graphic_Multi</graphicClass>
									<drawSize>(8,8)</drawSize>
									<shaderType>CutoutComplex</shaderType>
									<shadowData>
										<volume>(0.4,0.1,0.4)</volume>
									</shadowData>
								</bodyGraphicData>
							</li>
						</lifeStages>
					</PawnKindDef>
				</value>
			</li>

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<ThingDef ParentName="BaseShip">
						<defName>AA_MirachianManowarRace</defName>
						<label>Mirachian Man O'War</label>
						<description>The Mirachian Man O'War originates from an unnamed ocean covered planet orbiting Mirach, or Beta Andromedae, a red giant relatively close to Sol. The Mirachian Man O'War is not a true jellyfish but a photosynthetic siphonophore, which is not actually a single multicellular organism, but a colonial organism made up of many specialized animals of the same species. When transported out of the poor light conditions in its home planet, the colony can grow to obscene sizes.\n\nA Mirachian Man O'War is naturally buoyant, using its pneumatophore, a sail-shaped structure filled with gas, to float aimlessly in the ocean currents, and its tentacles to paralyze and consume passing fish. If a colony can be artificially grown around an artificial structure, and chemical signals used to direct it at will, it could be used as a means of transportation.</description>

						<statBases>
							<MoveSpeed>4.5</MoveSpeed>
							<Mass>1500</Mass>
							<ArmorRating_Blunt>0.9</ArmorRating_Blunt>
							<ArmorRating_Sharp>0.4</ArmorRating_Sharp>
							<MarketValue>3500</MarketValue>
							<MeatAmount>0</MeatAmount>
							<LeatherAmount>0</LeatherAmount>
						</statBases>

						<size>(5,8)</size>

						<tools>
							<li>
								<label>hull</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>20</power>
								<cooldownTime>10</cooldownTime>
								<linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
								<ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
							</li>
						</tools>



						<race>
							<thinkTreeMain>shipThinkTree_Simple</thinkTreeMain>
							<thinkTreeConstant>shipThinkTree_SimpleConstant</thinkTreeConstant>
							<intelligence>ToolUser</intelligence>
							<fleshType>WoodenShip</fleshType>
							<needsRest>false</needsRest>
							<hasGenders>true</hasGenders>
							<foodType>None</foodType>
							<useMeatFrom>Cat</useMeatFrom>
							<body>AA_JellyfishBoatBody</body>
							<baseBodySize>75.0</baseBodySize>
							<baseHealthScale>1.5</baseHealthScale>
							<lifeStageAges>
								<li>
									<def>MechanoidFullyFormed</def>
									<minAge>0</minAge>
									<soundWounded>BulletImpact_Wood</soundWounded>
									<soundDeath>Explosion_Bomb</soundDeath>
								</li>
							</lifeStageAges>

							<soundMeleeHitPawn>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeHitPawn>
							<soundMeleeHitBuilding>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeHitBuilding>
							<soundMeleeMiss>Pawn_Melee_MechanoidSlash_HitPawn</soundMeleeMiss>
						</race>

						<comps>	
							<li Class = "RimShips.CompProperties_Ships">
								<downable>false</downable>
								<movesWhenDowned>false</movesWhenDowned>
								<diagonalRotation>false</diagonalRotation>

								<moveable>NoDriverNeeded</moveable>
								<riverTraversability>HugeRiver</riverTraversability>
								<shipPowerType>Paddles</shipPowerType>
								<nameable>true</nameable>
								<buildDef>AA_MirachianManowarBlueprint</buildDef>
								<ticksBetweenRepair>400</ticksBetweenRepair>

								<healthLabel_Healthy>Operational</healthLabel_Healthy>
								<healthLabel_Injured>Needs Healing</healthLabel_Injured>
								<healthLabel_Immobile>Inoperable</healthLabel_Immobile>
								<healthLabel_Dead>Sunken</healthLabel_Dead>
								<healthLabel_Beached>Beached</healthLabel_Beached>

								<roles>
									<li>
										<label>Handler</label>
										<handlingType>Movement</handlingType>
										<slots>1</slots>
										<slotsToOperate>1</slotsToOperate>
									</li>
									
									<li>
										<label>Passenger</label>
										<handlingType>None</handlingType>
										<slots>10</slots>
									</li>
								</roles>
							</li>
							
						</comps>
					</ThingDef>
				</value>
			</li>

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<ThingDef ParentName="ShipBase">
						<defName>AA_MirachianManowarBlueprint</defName>
						<label>Mirachian Man O'War</label>
						<description>The Mirachian Man O'War originates from an unnamed ocean covered planet orbiting Mirach, or Beta Andromedae, a red giant relatively close to Sol. The Mirachian Man O'War is not a true jellyfish but a photosynthetic siphonophore, which is not actually a single multicellular organism, but a colonial organism made up of many specialized animals of the same species. When transported out of the poor light conditions in its home planet, the colony can grow to obscene sizes.\n\nA Mirachian Man O'War is naturally buoyant, using its pneumatophore, a sail-shaped structure filled with gas, to float aimlessly in the ocean currents, and its tentacles to paralyze and consume passing fish. If a colony can be artificially grown around an artificial structure, and chemical signals used to direct it at will, it could be used as a means of transportation.</description>
						<graphicData>
							<texPath>Things/Pawn/Animal/AA_MirachianManowar/AA_MirachianManowar_north</texPath>
							<graphicClass>Graphic_Single</graphicClass>
							<drawSize>(8,8)</drawSize>
						</graphicData>

						<statBases>
							<MaxHitPoints>100</MaxHitPoints>
							<WorkToBuild>10000</WorkToBuild>
							<Flammability>100</Flammability>
						</statBases>
						<size>(5,8)</size>

						<researchPrerequisites>
							<li>AA_Bioships</li>
						</researchPrerequisites>
						<costList>
							<WoodLog>25</WoodLog>
							<Steel>25</Steel>
						</costList>

						<soundImpactDefault>BulletImpact_Wood</soundImpactDefault>

						<modExtensions>
							<li Class="RimShips.Build.SpawnThingBuilt">
								<thingToSpawn>AA_MirachianManowar</thingToSpawn>
								<soundFinished>ShipBigConstruction</soundFinished>
							</li>
						</modExtensions>

					</ThingDef>
				</value>
			</li>
			
			<!-- Other needed things -->

			<li Class="PatchOperationAdd"> 
				<xpath>/Defs</xpath>
				<value>
					<ResearchProjectDef>
						<defName>AA_Bioships</defName>
						<label>bioships</label>
						<tab>RimShips</tab>
						<description>Bioships are part animal, part boats. Building of a bioship usually requires specific resources that must be acquired via trading, such as exotic eggs or frozen embryos.</description>
						<baseCost>1100</baseCost>
						<techLevel>Medieval</techLevel>
						<prerequisites>
							<li>Rowboat</li>
							<li>Electricity</li>
						</prerequisites>
						<researchViewX>2</researchViewX>
						<researchViewY>5</researchViewY>
					</ResearchProjectDef>
				</value>
			</li>




		</operations>
	</Operation>


</Patch>

